import{a as o,K as f,f as h,g as l,C as u,s as d}from"./entry.e8855817.js";const g=/\/$|\/\?|\/#/,m=/^\.?\//;function S(t="",r){return r?g.test(t):t.endsWith("/")}function a(t="",r){if(!r)return t.endsWith("/")?t:t+"/";if(S(t,!0))return t||"/";let s=t,n="";const e=t.indexOf("#");if(e>=0&&(s=t.slice(0,e),n=t.slice(e),!s))return n;const[c,...i]=s.split("?");return c+"/"+(i.length>0?`?${i.join("?")}`:"")+n}function L(t=""){return t.startsWith("/")}function _(t=""){return L(t)?t:"/"+t}function R(t){return t&&t!=="/"}function w(t,...r){let s=t||"";for(const n of r.filter(e=>R(e)))if(s){const e=n.replace(m,"");s=a(s)+e}else s=n;return s}const I=["src","alt","width","height"],W=o({__name:"ProseImg",props:{src:{type:String,default:""},alt:{type:String,default:""},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0}},setup(t){const r=t,s=f(()=>{var n;if((n=r.src)!=null&&n.startsWith("/")&&!r.src.startsWith("//")){const e=_(a(d().app.baseURL));if(e!=="/"&&!r.src.startsWith(e))return w(e,r.src)}return r.src});return(n,e)=>(h(),l("img",{src:u(s),alt:t.alt,width:t.width,height:t.height},null,8,I))}});export{W as default};
